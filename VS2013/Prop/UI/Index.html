<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta name="viewport" content="width=device-width" />
    <title></title>
    <link href="stylesheets/screen.css" rel="stylesheet" />
    <script src="scripts/prop/base.js"></script>
    <script src="scripts/prop/loader.js"></script>

    <!--3d-->
    <script src="/scripts/3dbase.js"></script>

    <script src="/scripts/prop/3d/engines/babylon.js"></script>
    <script src="/scripts/prop/3d/engines/three.js"></script>

    <script src="/scripts/3dbase_Initialize_BabylonJs.js"></script>
    <script src="/scripts/3dTools.js"></script>
    <script src="/scripts/3dMaterial.js"></script>
    <script src="/scripts/Melyon/scene.js"></script>
</head>
<body class="owf">
    <!-- fit screen dom -->
    <div id="main" class="main ab w_f h_f owf dblue">
    </div>
    <canvas id='renderCanvas2' class="ab w04 h04 l005 t005 sblue op03"></canvas>
    <!-- menu -->
    <div class="menu ab w_a h_a b00 r00 ">
        <img class="w01 h01 mr4 mb4 hblue" src="/images/shapes/panel.svg" />
        <img class="w01 h01 mr4 mb4 hblue" src="/images/shapes/menu.svg" onclick="  " />
    </div>
    <!-- popup content -->
    <div class="ab l04 t04 r04 b00 hdn"></div>
    <!-- initializer -->
    <script>
        var eng1, eng2, b = [], b2, ix = 0, iy = 0, iz = 0;

        prop.loader.get('3d/babylonjs', function (d) {
            document.getElementById('main').innerHTML += d;

            eng1 = new $3d({ engine: createBabylonJsEngine(), geometry: createBabylonJsGeometry(), material: createBabylonJsMaterial() });

            eng1.engine.instance.canvas = document.getElementById('renderCanvas');
            var bx, bx1;
            eng1.engine.onRequestFrame = function () {

                for (var i = 0; i < b.length; i++) {
                    //b[i].rotation.y += 0.5 * deg;
                    //b[i].rotation.x += 0.4 * deg;
                    //b[i].rotation.z += 0.2 * deg;
                }

                bx.material.setVector3("camera", eng1.get().cameras.main.position);
                //bx.material.setFloat("time", time);
            };

            eng1.engine.onInitScene = function () {

                bx = new BABYLON.Mesh.CreateSphere('dd', 50, 330.5, eng1.get().scene);

                // bx.position.y = 20;
                bx.material = new $3d.iMaterial($3d.mat.frg('result = vec4(0.0,0.0,0.0,1.0);'), eng1).build();
                 
                //var ms = $3d.tools.surface({
                //    paths: [
                //        [vec(-250, -40, -250), vec(250, -40, -250)],
                //        [vec(-250, -40, 250), vec(250, -40, 250)],
                //        [vec(-250, -240, 250), vec(250, -240, 250)],
                //    ]
                //});

                //var ms1 = ms.toMesh({ diffuse:0x550000,alpha:0.8,specular:0x000000, map: { reflect: { mirror: true, list: [bx ] } } }, eng1);

            }

            eng1.start();


        });
    </script>
    <!-- developer tools
         can remove in release version
         contents : status
    -->
    <div id="status" class="ab t01 l01 h06 op05 blue "></div>
</body>
</html>
